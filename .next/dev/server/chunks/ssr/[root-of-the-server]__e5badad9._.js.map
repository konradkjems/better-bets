{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/ui/ClientOnly.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface ClientOnlyProps {\n  children: React.ReactNode;\n  fallback?: React.ReactNode;\n}\n\nexport function ClientOnly({ children, fallback = null }: ClientOnlyProps) {\n  const [hasMounted, setHasMounted] = useState(false);\n\n  useEffect(() => {\n    setHasMounted(true);\n  }, []);\n\n  if (!hasMounted) {\n    return <>{fallback}</>;\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,SAAS,WAAW,EAAE,QAAQ,EAAE,WAAW,IAAI,EAAmB;IACvE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,IAAA,kNAAS,EAAC;QACR,cAAc;IAChB,GAAG,EAAE;IAEL,IAAI,CAAC,YAAY;QACf,qBAAO;sBAAG;;IACZ;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/ui/Header.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { ClientOnly } from './ClientOnly';\n\nexport function Header() {\n  return (\n    <header className=\"bg-white shadow-sm border-b border-gray-200\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center py-4\">\n          {/* Logo and Brand */}\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\"/>\n                </svg>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Better Bets</h1>\n                <p className=\"text-xs text-gray-500\">Arbitrage Calculator</p>\n              </div>\n            </Link>\n          </div>\n\n          {/* Navigation */}\n          <nav className=\"hidden md:flex items-center space-x-8\">\n            <Link \n              href=\"/\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200\"\n            >\n              Home\n            </Link>\n            <Link \n              href=\"/calculator\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200\"\n            >\n              Calculator\n            </Link>\n            <Link \n              href=\"/history\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200\"\n            >\n              History\n            </Link>\n            <Link \n              href=\"/test\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200\"\n            >\n              Tests\n            </Link>\n          </nav>\n\n          {/* User Section */}\n          <div className=\"flex items-center space-x-4\">\n            <ClientOnly fallback={\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-16 h-8 bg-gray-200 rounded animate-pulse\"></div>\n              </div>\n            }>\n              <div className=\"flex items-center space-x-2\">\n                <Link \n                  href=\"/sign-in\" \n                  className=\"text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200\"\n                >\n                  Sign In\n                </Link>\n                <Link \n                  href=\"/sign-up\" \n                  className=\"btn-primary text-sm\"\n                >\n                  Sign Up\n                </Link>\n              </div>\n            </ClientOnly>\n          </div>\n\n          {/* Mobile Menu Button */}\n          <div className=\"md:hidden\">\n            <button \n              className=\"text-gray-700 hover:text-blue-600 p-2\"\n              aria-label=\"Toggle mobile menu\"\n              aria-expanded=\"false\"\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16M4 18h16\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Navigation */}\n        <div className=\"md:hidden border-t border-gray-200 py-4\">\n          <nav className=\"flex flex-col space-y-2\">\n            <Link \n              href=\"/\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium py-2 transition-colors duration-200\"\n            >\n              Home\n            </Link>\n            <Link \n              href=\"/calculator\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium py-2 transition-colors duration-200\"\n            >\n              Calculator\n            </Link>\n            <Link \n              href=\"/history\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium py-2 transition-colors duration-200\"\n            >\n              History\n            </Link>\n            <Link \n              href=\"/test\" \n              className=\"text-gray-700 hover:text-blue-600 font-medium py-2 transition-colors duration-200\"\n            >\n              Tests\n            </Link>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;;kDACvB,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CAAI,WAAU;4CAAqB,MAAK;4CAAO,QAAO;4CAAe,SAAQ;sDAC5E,cAAA,8OAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAY;gDAAI,GAAE;;;;;;;;;;;;;;;;kDAGzE,8OAAC;;0DACC,8OAAC;gDAAG,WAAU;0DAAkC;;;;;;0DAChD,8OAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;;;;;sCAM3C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,8OAAC,uKAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;sCAMH,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,oJAAU;gCAAC,wBACV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;;;;;;;;;;;0CAGjB,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,8OAAC,uKAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;sCAQP,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAU;gCACV,cAAW;gCACX,iBAAc;0CAEd,cAAA,8OAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,QAAO;oCAAe,SAAQ;oCAAY,eAAY;8CACzF,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAY;wCAAI,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAO7E,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,8OAAC,uKAAI;gCACH,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/pwa/PWAProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { ClientOnly } from '../ui/ClientOnly';\n\ninterface PWAInstallPrompt {\n  prompt: () => Promise<void>;\n  userChoice: Promise<{ outcome: 'accepted' | 'dismissed' }>;\n}\n\nexport function PWAProvider({ children }: { children: React.ReactNode }) {\n  return (\n    <>\n      {children}\n      <ClientOnly>\n        <PWAComponents />\n      </ClientOnly>\n    </>\n  );\n}\n\nfunction PWAComponents() {\n  const [isOnline, setIsOnline] = useState(true);\n  const [installPrompt, setInstallPrompt] = useState<PWAInstallPrompt | null>(null);\n  const [showInstallBanner, setShowInstallBanner] = useState(false);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check if app is already installed\n    const checkIfInstalled = () => {\n      if (window.matchMedia('(display-mode: standalone)').matches) {\n        setIsInstalled(true);\n      }\n    };\n\n    checkIfInstalled();\n\n    // Register service worker\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.register('/sw.js')\n        .then((registration) => {\n          console.log('Service Worker registered successfully:', registration);\n          \n          // Check for updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            if (newWorker) {\n              newWorker.addEventListener('statechange', () => {\n                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                  // New version available\n                  if (confirm('A new version is available. Reload to update?')) {\n                    window.location.reload();\n                  }\n                }\n              });\n            }\n          });\n        })\n        .catch((error) => {\n          console.error('Service Worker registration failed:', error);\n        });\n    }\n\n    // Listen for install prompt\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      setInstallPrompt(e as any);\n      setShowInstallBanner(true);\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n\n    // Listen for online/offline status\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    // Cleanup\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  const handleInstall = async () => {\n    if (!installPrompt) return;\n\n    try {\n      await installPrompt.prompt();\n      const choiceResult = await installPrompt.userChoice;\n      \n      if (choiceResult.outcome === 'accepted') {\n        console.log('PWA installed successfully');\n        setIsInstalled(true);\n      }\n      \n      setShowInstallBanner(false);\n      setInstallPrompt(null);\n    } catch (error) {\n      console.error('PWA installation failed:', error);\n    }\n  };\n\n  const dismissInstallBanner = () => {\n    setShowInstallBanner(false);\n  };\n\n  return (\n    <>\n      {/* Install Banner */}\n      {showInstallBanner && !isInstalled && (\n        <div className=\"fixed bottom-4 left-4 right-4 z-50 bg-blue-600 text-white p-4 rounded-lg shadow-lg\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\"/>\n                </svg>\n              </div>\n              <div>\n                <p className=\"font-semibold\">Install Better Bets</p>\n                <p className=\"text-sm text-blue-100\">Add to home screen for quick access</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={dismissInstallBanner}\n                className=\"text-blue-200 hover:text-white p-1\"\n                aria-label=\"Dismiss\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n                </svg>\n              </button>\n              <button\n                onClick={handleInstall}\n                className=\"bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold hover:bg-blue-50 transition-colors\"\n              >\n                Install\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Offline Indicator - only show after hydration */}\n      {!isOnline && (\n        <div className=\"fixed top-0 left-0 right-0 z-50 bg-red-600 text-white p-2 text-center\">\n          <div className=\"flex items-center justify-center gap-2\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z\"/>\n            </svg>\n            <span className=\"text-sm font-medium\">You're offline. Some features may be limited.</span>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\n// Hook for PWA functionality\nexport function usePWA() {\n  const [isOnline, setIsOnline] = useState(true);\n  const [isInstalled, setIsInstalled] = useState(false);\n\n  useEffect(() => {\n    // Check online status\n    setIsOnline(navigator.onLine);\n\n    // Check if installed\n    const checkIfInstalled = () => {\n      setIsInstalled(window.matchMedia('(display-mode: standalone)').matches);\n    };\n\n    checkIfInstalled();\n\n    // Listen for changes\n    const handleOnline = () => setIsOnline(true);\n    const handleOffline = () => setIsOnline(false);\n    const handleDisplayModeChange = () => checkIfInstalled();\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n    window.matchMedia('(display-mode: standalone)').addEventListener('change', handleDisplayModeChange);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n      window.matchMedia('(display-mode: standalone)').removeEventListener('change', handleDisplayModeChange);\n    };\n  }, []);\n\n  return {\n    isOnline,\n    isInstalled,\n    canInstall: 'serviceWorker' in navigator && 'PushManager' in window\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/performance/PerformanceMonitor.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface PerformanceMetrics {\n  loadTime: number;\n  renderTime: number;\n  memoryUsage: number;\n  isOnline: boolean;\n  connectionSpeed: string;\n}\n\nexport function PerformanceMonitor() {\n  const [metrics, setMetrics] = useState<PerformanceMetrics>({\n    loadTime: 0,\n    renderTime: 0,\n    memoryUsage: 0,\n    isOnline: true, // Default to true for SSR\n    connectionSpeed: 'unknown'\n  });\n  const [isHydrated, setIsHydrated] = useState(false);\n\n  useEffect(() => {\n    setIsHydrated(true);\n    \n    // Update online status after hydration\n    setMetrics(prev => ({ ...prev, isOnline: navigator.onLine }));\n    // Measure page load time\n    const measureLoadTime = () => {\n      if (typeof window !== 'undefined' && window.performance) {\n        const navigation = window.performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\n        const loadTime = navigation.loadEventEnd - navigation.loadEventStart;\n        \n        setMetrics(prev => ({\n          ...prev,\n          loadTime: Math.round(loadTime)\n        }));\n      }\n    };\n\n    // Measure memory usage (if available)\n    const measureMemory = () => {\n      if ('memory' in performance) {\n        const memory = (performance as any).memory;\n        const memoryUsage = Math.round(memory.usedJSHeapSize / 1024 / 1024); // MB\n        \n        setMetrics(prev => ({\n          ...prev,\n          memoryUsage\n        }));\n      }\n    };\n\n    // Detect connection speed\n    const detectConnectionSpeed = () => {\n      if ('connection' in navigator) {\n        const connection = (navigator as any).connection;\n        const speed = connection.effectiveType || 'unknown';\n        \n        setMetrics(prev => ({\n          ...prev,\n          connectionSpeed: speed\n        }));\n      }\n    };\n\n    // Measure render time\n    const measureRenderTime = () => {\n      const startTime = performance.now();\n      \n      requestAnimationFrame(() => {\n        const renderTime = performance.now() - startTime;\n        setMetrics(prev => ({\n          ...prev,\n          renderTime: Math.round(renderTime)\n        }));\n      });\n    };\n\n    // Initial measurements\n    measureLoadTime();\n    measureMemory();\n    detectConnectionSpeed();\n    measureRenderTime();\n\n    // Listen for online/offline changes\n    const handleOnline = () => setMetrics(prev => ({ ...prev, isOnline: true }));\n    const handleOffline = () => setMetrics(prev => ({ ...prev, isOnline: false }));\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    // Update memory usage periodically\n    const memoryInterval = setInterval(measureMemory, 5000);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n      clearInterval(memoryInterval);\n    };\n  }, []);\n\n  // Only show in development and after hydration\n  if (process.env.NODE_ENV !== 'development' || !isHydrated) {\n    return null;\n  }\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-50 bg-gray-900 text-white p-3 rounded-lg shadow-lg text-xs\">\n      <div className=\"font-semibold mb-2\">Performance Monitor</div>\n      <div className=\"space-y-1\">\n        <div className=\"flex justify-between gap-4\">\n          <span>Load Time:</span>\n          <span className={metrics.loadTime > 1000 ? 'text-red-400' : metrics.loadTime > 500 ? 'text-yellow-400' : 'text-green-400'}>\n            {metrics.loadTime}ms\n          </span>\n        </div>\n        <div className=\"flex justify-between gap-4\">\n          <span>Render Time:</span>\n          <span className={metrics.renderTime > 16 ? 'text-red-400' : 'text-green-400'}>\n            {metrics.renderTime}ms\n          </span>\n        </div>\n        <div className=\"flex justify-between gap-4\">\n          <span>Memory:</span>\n          <span className={metrics.memoryUsage > 50 ? 'text-red-400' : metrics.memoryUsage > 25 ? 'text-yellow-400' : 'text-green-400'}>\n            {metrics.memoryUsage}MB\n          </span>\n        </div>\n        <div className=\"flex justify-between gap-4\">\n          <span>Connection:</span>\n          <span className={metrics.isOnline ? 'text-green-400' : 'text-red-400'}>\n            {metrics.isOnline ? metrics.connectionSpeed : 'offline'}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Hook for performance monitoring\nexport function usePerformanceMonitor() {\n  const [metrics, setMetrics] = useState<PerformanceMetrics>({\n    loadTime: 0,\n    renderTime: 0,\n    memoryUsage: 0,\n    isOnline: navigator.onLine,\n    connectionSpeed: 'unknown'\n  });\n\n  const measureRenderTime = (callback: () => void) => {\n    const startTime = performance.now();\n    callback();\n    \n    requestAnimationFrame(() => {\n      const renderTime = performance.now() - startTime;\n      setMetrics(prev => ({\n        ...prev,\n        renderTime: Math.round(renderTime)\n      }));\n    });\n  };\n\n  const logPerformance = (label: string, startTime: number) => {\n    const endTime = performance.now();\n    const duration = Math.round(endTime - startTime);\n    \n    console.log(`Performance: ${label} took ${duration}ms`);\n    \n    if (duration > 100) {\n      console.warn(`Slow operation detected: ${label} took ${duration}ms`);\n    }\n  };\n\n  return {\n    metrics,\n    measureRenderTime,\n    logPerformance\n  };\n}\n\n// Performance optimization utilities\nexport const performanceUtils = {\n  // Debounce function for performance\n  debounce: <T extends (...args: any[]) => any>(\n    func: T,\n    wait: number\n  ): ((...args: Parameters<T>) => void) => {\n    let timeout: NodeJS.Timeout;\n    return (...args: Parameters<T>) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => func(...args), wait);\n    };\n  },\n\n  // Throttle function for performance\n  throttle: <T extends (...args: any[]) => any>(\n    func: T,\n    limit: number\n  ): ((...args: Parameters<T>) => void) => {\n    let inThrottle: boolean;\n    return (...args: Parameters<T>) => {\n      if (!inThrottle) {\n        func(...args);\n        inThrottle = true;\n        setTimeout(() => inThrottle = false, limit);\n      }\n    };\n  },\n\n  // Lazy load images\n  lazyLoadImage: (img: HTMLImageElement, src: string) => {\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          img.src = src;\n          observer.unobserve(img);\n        }\n      });\n    });\n    observer.observe(img);\n  },\n\n  // Preload critical resources\n  preloadResource: (href: string, as: string) => {\n    const link = document.createElement('link');\n    link.rel = 'preload';\n    link.href = href;\n    link.as = as;\n    document.head.appendChild(link);\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}}]
}