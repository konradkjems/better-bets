{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/auth/AuthButton.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useUser, SignInButton, UserButton } from '@clerk/nextjs';\n\nexport function AuthButton() {\n  const { isSignedIn, user } = useUser();\n\n  if (isSignedIn) {\n    return (\n      <div className=\"flex items-center gap-4\">\n        <span className=\"text-sm text-gray-600\">\n          Welcome, {user?.firstName || user?.emailAddresses[0]?.emailAddress}\n        </span>\n        <UserButton \n          appearance={{\n            elements: {\n              avatarBox: \"w-8 h-8\"\n            }\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <SignInButton mode=\"modal\">\n      <button className=\"btn-primary\">\n        Sign In\n      </button>\n    </SignInButton>\n  );\n}\n\nexport function ProtectedContent({ children }: { children: React.ReactNode }) {\n  const { isSignedIn, isLoaded } = useUser();\n\n  if (!isLoaded) {\n    return (\n      <div className=\"flex items-center justify-center p-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent\"></div>\n      </div>\n    );\n  }\n\n  if (!isSignedIn) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm p-6 text-center\">\n        <div className=\"mb-4\">\n          <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"/>\n          </svg>\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Sign in to save calculations</h3>\n          <p className=\"text-gray-600 mb-4\">Create an account to save your arbitrage calculations and access them later.</p>\n        </div>\n        <SignInButton mode=\"modal\">\n          <button className=\"btn-primary\">\n            Sign In with Google\n          </button>\n        </SignInButton>\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AAAA;;;AAHA;;AAKO,SAAS;;IACd,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,IAAA,0KAAO;IAEpC,IAAI,YAAY;QACd,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAK,WAAU;;wBAAwB;wBAC5B,MAAM,aAAa,MAAM,cAAc,CAAC,EAAE,EAAE;;;;;;;8BAExD,6LAAC,wLAAU;oBACT,YAAY;wBACV,UAAU;4BACR,WAAW;wBACb;oBACF;;;;;;;;;;;;IAIR;IAEA,qBACE,6LAAC,8LAAY;QAAC,MAAK;kBACjB,cAAA,6LAAC;YAAO,WAAU;sBAAc;;;;;;;;;;;AAKtC;GA3BgB;;QACe,0KAAO;;;KADtB;AA6BT,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;;IAC1E,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,GAAG,IAAA,0KAAO;IAExC,IAAI,CAAC,UAAU;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,YAAY;QACf,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;4BAAuC,MAAK;4BAAO,QAAO;4BAAe,SAAQ;sCAC9F,cAAA,6LAAC;gCAAK,eAAc;gCAAQ,gBAAe;gCAAQ,aAAY;gCAAI,GAAE;;;;;;;;;;;sCAEvE,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,6LAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;8BAEpC,6LAAC,8LAAY;oBAAC,MAAK;8BACjB,cAAA,6LAAC;wBAAO,WAAU;kCAAc;;;;;;;;;;;;;;;;;IAMxC;IAEA,qBAAO;kBAAG;;AACZ;IA/BgB;;QACmB,0KAAO;;;MAD1B","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/lib/calculator.ts"],"sourcesContent":["// Calculator module for React integration\n\nexport interface BookmakerInfo {\n    name: string;\n    fixedStake: number;\n    hasBonus: boolean;\n    actualCost: number;\n    minOdds: number;\n    preferLoss?: boolean;\n    avoidWin?: boolean;\n    isActive: boolean;\n    bonusType?: 'freebet' | 'matchingBonus' | 'none';\n    bonusAmount?: number;\n    bonusMinOdds?: number;\n    qualifyingBetAmount?: number;\n    isBonusLocked?: boolean;\n    usedInBet1?: boolean;\n    bonusOnlyIfLost?: boolean;\n    bet1Lost?: boolean;\n    bet1Balance?: number;\n    bet1Profit?: number;\n    odds?: {\n        team1: number;\n        draw: number;\n        team2: number;\n    };\n}\n\nexport interface TeamNames {\n    team1: string;\n    team2: string;\n}\n\nexport interface BookmakerOdds {\n    name: string;\n    team1: number;\n    draw: number;\n    team2: number;\n    fixedStake: number;\n    actualCost: number;\n    minOdds: number;\n    preferLoss?: boolean;\n    avoidWin?: boolean;\n    isActive: boolean;\n    betType?: 'team1' | 'draw' | 'team2';\n    originalOdds?: {\n        team1: number;\n        draw: number;\n        team2: number;\n    };\n    favoritType?: 'team1' | 'team2';\n    underdogType?: 'team1' | 'team2';\n    returns?: {\n        team1: number;\n        draw: number;\n        team2: number;\n    };\n}\n\nexport interface Customer {\n    id: string;\n    name: string;\n    bookmakers: BookmakerInfo[];\n    teamNames?: TeamNames;\n    betType: 'qualifying' | 'bonus';\n}\n\nexport interface ArbitrageResult {\n    allBookmakers: {\n        name: string;\n        team1Odds: number;\n        drawOdds: number;\n        team2Odds: number;\n        fixedStake: number;\n        actualCost: number;\n        minOdds: number;\n        betType: 'team1' | 'draw' | 'team2';\n        potentialReturn: number;\n    }[];\n    totalStake: number;\n    totalActualCost: number;\n    potentialReturns: {\n        team1: number;\n        draw: number;\n        team2: number;\n    };\n    profit: number;\n    profitPercentage: number;\n    isArbitrage: boolean;\n}\n\nconst BOOKMAKERS: BookmakerInfo[] = [\n    { name: 'Unibet', fixedStake: 2000, hasBonus: true, actualCost: 1000, minOdds: 1.4, isActive: true, bonusType: 'matchingBonus', bonusAmount: 1000, bonusMinOdds: 1.4, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Bet365', fixedStake: 1000, hasBonus: false, actualCost: 1000, minOdds: 1.2, isActive: true, bonusType: 'freebet', bonusAmount: 1000, bonusMinOdds: 1.2, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'LeoVegas', fixedStake: 1000, hasBonus: false, actualCost: 1000, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 1000, bonusMinOdds: 1.8, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: true },\n    { name: 'ComeOn', fixedStake: 2000, hasBonus: true, actualCost: 1000, minOdds: 1.8, preferLoss: true, isActive: true, bonusType: 'matchingBonus', bonusAmount: 1000, bonusMinOdds: 1.8, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Mr Green', fixedStake: 300, hasBonus: false, actualCost: 300, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 300, bonusMinOdds: 1.8, qualifyingBetAmount: 300, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'NordicBet', fixedStake: 500, hasBonus: false, actualCost: 500, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 500, bonusMinOdds: 1.8, qualifyingBetAmount: 500, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Bwin', fixedStake: 1000, hasBonus: false, actualCost: 1000, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 1000, bonusMinOdds: 1.8, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: '888sport', fixedStake: 500, hasBonus: false, actualCost: 500, minOdds: 2.0, isActive: true, bonusType: 'freebet', bonusAmount: 500, bonusMinOdds: 2.0, qualifyingBetAmount: 500, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Bet25', fixedStake: 250, hasBonus: false, actualCost: 250, minOdds: 1.95, isActive: true, bonusType: 'matchingBonus', bonusAmount: 250, bonusMinOdds: 1.95, qualifyingBetAmount: 250, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Expekt', fixedStake: 1000, hasBonus: false, actualCost: 1000, minOdds: 1.5, isActive: true, bonusType: 'freebet', bonusAmount: 1000, bonusMinOdds: 1.5, qualifyingBetAmount: 1000, usedInBet1: true, bonusOnlyIfLost: true },\n    { name: 'Cashpoint', fixedStake: 500, hasBonus: false, actualCost: 500, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 500, bonusMinOdds: 1.8, qualifyingBetAmount: 500, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Jackpotbet', fixedStake: 500, hasBonus: false, actualCost: 500, minOdds: 1.5, isActive: true, bonusType: 'matchingBonus', bonusAmount: 500, bonusMinOdds: 1.5, qualifyingBetAmount: 500, usedInBet1: true, bonusOnlyIfLost: false },\n    { name: 'Getlucky', fixedStake: 100, hasBonus: false, actualCost: 100, minOdds: 1.8, isActive: true, bonusType: 'freebet', bonusAmount: 100, bonusMinOdds: 1.8, qualifyingBetAmount: 100, usedInBet1: true, bonusOnlyIfLost: false }\n];\n\n// Global state\nlet customers: Customer[] = [];\nlet currentCustomerId: string | null = null;\nlet currentBetType: 'qualifying' | 'bonus' = 'qualifying';\nlet lastCalculatedResult: ArbitrageResult | null = null;\n\nexport function getCurrentCustomer(): Customer {\n    return customers.find(c => c.id === currentCustomerId) || customers[0];\n}\n\nexport function generateBookmakerId(bookmakerName: string): string {\n    return bookmakerName.replace(/[^a-zA-Z0-9]/g, '').toLowerCase();\n}\n\n// Core arbitrage calculation function\nexport function calculateArbitrage(oddsData: BookmakerOdds[], customer: Customer): ArbitrageResult {\n    const isQualifyingBet = customer.betType === 'qualifying';\n\n    // Beregn potentielle returns for hver bookmaker for hvert udfald\n    const bookmakerReturns = oddsData.map(bm => {\n        const bookmakerInfo = customer.bookmakers.find(b => b.name === bm.name);\n\n        // Opdater calculateReturn til at tjekke for freebet uafhængigt af betType\n        const calculateReturn = (odds: number, stake: number, isFreebet: boolean) => {\n            if (isFreebet) {\n                return (odds - 1) * stake; // Kun gevinst, ikke indsats tilbage for freebets\n            }\n            return odds * stake; // Normal beregning\n        };\n\n        // Find det laveste odds (favorit) for denne bookmaker\n        const team1Odds = bm.team1 || Infinity;\n        const team2Odds = bm.team2 || Infinity;\n        const favoritType = team1Odds <= team2Odds ? 'team1' as const : 'team2' as const;\n        const underdogType = team1Odds <= team2Odds ? 'team2' as const : 'team1' as const;\n\n        // Kald calculateReturn med isFreebet parameter\n        return {\n            ...bm,\n            favoritType,\n            underdogType,\n            returns: {\n                team1: calculateReturn(bm.team1, bm.fixedStake, bookmakerInfo?.bonusType === 'freebet'),\n                draw: calculateReturn(bm.draw, bm.fixedStake, bookmakerInfo?.bonusType === 'freebet'),\n                team2: calculateReturn(bm.team2, bm.fixedStake, bookmakerInfo?.bonusType === 'freebet')\n            }\n        };\n    });\n\n    // Find target return (gennemsnit af alle mulige returns)\n    const totalPossibleReturn = bookmakerReturns.reduce((sum, bm) => \n        sum + (bm.returns?.team1 || 0) + (bm.returns?.draw || 0) + (bm.returns?.team2 || 0), 0);\n    const targetReturnPerOutcome = totalPossibleReturn / 3;\n\n    let bestDistribution = {\n        team1: [] as BookmakerOdds[],\n        draw: [] as BookmakerOdds[],\n        team2: [] as BookmakerOdds[],\n        deviation: Infinity\n    };\n\n    // Funktion til at evaluere en distribution\n    const evaluateDistribution = (team1: BookmakerOdds[], draw: BookmakerOdds[], team2: BookmakerOdds[]): number => {\n        const calculateReturnForBet = (bm: BookmakerOdds, odds: number) => {\n            const bookmakerInfo = customer.bookmakers.find(b => b.name === bm.name);\n            if (!isQualifyingBet && bookmakerInfo?.bonusType === 'freebet') {\n                return (odds - 1) * bm.fixedStake;\n            }\n            return odds * bm.fixedStake;\n        };\n\n        const team1Return = team1.reduce((sum, bm) => sum + calculateReturnForBet(bm, bm.team1), 0);\n        const drawReturn = draw.reduce((sum, bm) => sum + calculateReturnForBet(bm, bm.draw), 0);\n        const team2Return = team2.reduce((sum, bm) => sum + calculateReturnForBet(bm, bm.team2), 0);\n\n        // Beregn afvigelse fra target\n        const maxReturn = Math.max(team1Return, drawReturn, team2Return);\n        const minReturn = Math.min(team1Return, drawReturn, team2Return);\n        const avgReturn = (team1Return + drawReturn + team2Return) / 3;\n\n        // Straf større afvigelser hårdere ved at kvadrere forskellen\n        const baseDeviation = Math.pow(maxReturn - minReturn, 2) + \n                            Math.pow(Math.abs(team1Return - avgReturn), 2) +\n                            Math.pow(Math.abs(drawReturn - avgReturn), 2) +\n                            Math.pow(Math.abs(team2Return - avgReturn), 2);\n\n        let penalty = 0;\n\n        // Specialregler for kvalificerende bets\n        if (isQualifyingBet) {\n            // Tæl \"kun hvis tab\"-freebets på hvert udfald\n            const bonusOnlyIfLostFreebets = [...team1, ...draw, ...team2].filter(bm => {\n                const bookmakerInfo = customer.bookmakers.find(b => b.name === bm.name);\n                return bookmakerInfo?.bonusOnlyIfLost && bookmakerInfo.bonusType === 'freebet';\n            });\n            \n            const team1BonusOnlyIfLost = bonusOnlyIfLostFreebets.filter(bm => bm.betType === 'team1').length;\n            const drawBonusOnlyIfLost = bonusOnlyIfLostFreebets.filter(bm => bm.betType === 'draw').length;\n            const team2BonusOnlyIfLost = bonusOnlyIfLostFreebets.filter(bm => bm.betType === 'team2').length;\n            \n            // Straf hvis \"kun hvis tab\"-freebets ikke er balanceret fordelt\n            const totalBonusOnlyIfLost = team1BonusOnlyIfLost + drawBonusOnlyIfLost + team2BonusOnlyIfLost;\n            if (totalBonusOnlyIfLost > 0) {\n                const idealPerOutcome = totalBonusOnlyIfLost / 3;\n                const deviation = Math.abs(team1BonusOnlyIfLost - idealPerOutcome) + \n                                Math.abs(drawBonusOnlyIfLost - idealPerOutcome) + \n                                Math.abs(team2BonusOnlyIfLost - idealPerOutcome);\n                penalty += deviation * 10000; // Stor straf for ubalanceret fordeling\n            }\n\n            [...team1, ...draw, ...team2].forEach(bm => {\n                const bookmakerInfo = customer.bookmakers.find(b => b.name === bm.name);\n                \n                // Straf hvis vi bruger en bookmaker uden bonus i kvalificerende fase\n                if (!bookmakerInfo?.bonusType || bookmakerInfo.bonusType === 'none') {\n                    penalty += 5000;\n                }\n\n                // Tjek om odds er over minimum for bonus\n                if (bookmakerInfo?.bonusMinOdds) {\n                    const placedOdds = bm.betType === 'team1' ? bm.team1 :\n                                     bm.betType === 'draw' ? bm.draw :\n                                     bm.team2;\n                    if (placedOdds < bookmakerInfo.bonusMinOdds) {\n                        penalty += 10000; // Stor straf hvis odds er under minimum for bonus\n                    }\n                }\n\n                // Specialregel for \"kun hvis tabt\" bonusser - vi vil gerne tabe på disse bookmakere\n                if (bookmakerInfo?.bonusOnlyIfLost && bookmakerInfo.bonusType === 'freebet') {\n                    // Find den højeste odds (underdog) for denne bookmaker\n                    const team1Odds = bm.team1 || 0;\n                    const team2Odds = bm.team2 || 0;\n                    const underdogType = team1Odds >= team2Odds ? 'team1' : 'team2';\n                    \n                    // Hvis vi spiller på underdog'en (laveste sandsynlighed for gevinst), giv bonus\n                    if (bm.betType === underdogType) {\n                        penalty -= 2000; // Bonus for at spille på underdog'en\n                    } else {\n                        penalty += 5000; // Straf for at spille på favoritten\n                    }\n                }\n            });\n        }\n\n        // Specialregler for bonus bets (freebets)\n        if (!isQualifyingBet) {\n            [...team1, ...draw, ...team2].forEach(bm => {\n                const bookmakerInfo = customer.bookmakers.find(b => b.name === bm.name);\n                \n                // For freebets vil vi gerne have højere odds for at maksimere gevinst\n                // men stadig holde det balanceret\n                if (bookmakerInfo?.bonusType === 'freebet') {\n                    const placedOdds = bm.betType === 'team1' ? bm.team1 :\n                                     bm.betType === 'draw' ? bm.draw :\n                                     bm.team2;\n                    // Mindre aggressiv bonus for højere odds\n                    penalty -= (placedOdds - bookmakerInfo.minOdds) * 100;\n                }\n\n                // Straf for meget ubalancerede returns i Bet 2\n                const returnSpread = maxReturn - minReturn;\n                if (returnSpread > avgReturn * 0.1) { // Hvis spredningen er mere end 10% af gennemsnittet\n                    penalty += Math.pow(returnSpread, 2);\n                }\n            });\n        }\n\n        // Generelle regler for alle typer bets\n        const comeOnBet = [...team1, ...draw, ...team2].find(bm => bm.name === 'ComeOn');\n        if (comeOnBet) {\n            const comeOnData = bookmakerReturns.find(bm => bm.name === 'ComeOn');\n            if (comeOnData) {\n                const isOnFavorit = comeOnBet.betType === comeOnData.favoritType;\n                const isOnDraw = comeOnBet.betType === 'draw';\n                if (isOnFavorit || isOnDraw) {\n                    penalty += 50000;\n                }\n            }\n        }\n\n        return baseDeviation + penalty;\n    };\n\n    // Prøv forskellige kombinationer\n    const tryDistribution = (remaining: typeof bookmakerReturns, team1: BookmakerOdds[], draw: BookmakerOdds[], team2: BookmakerOdds[]) => {\n        if (remaining.length === 0) {\n            const deviation = evaluateDistribution(team1, draw, team2);\n            if (deviation < bestDistribution.deviation) {\n                bestDistribution = { team1, draw, team2, deviation };\n            }\n            return;\n        }\n\n        const [current, ...rest] = remaining;\n        \n        // Beregn nuværende returns for hver gruppe\n        const currentTeam1 = team1.reduce((sum, bm) => sum + bm.team1 * bm.fixedStake, 0);\n        const currentDraw = draw.reduce((sum, bm) => sum + bm.draw * bm.fixedStake, 0);\n        const currentTeam2 = team2.reduce((sum, bm) => sum + bm.team2 * bm.fixedStake, 0);\n\n        // Specialhåndtering for ComeOn - skal altid på det modsatte hold af favoritten\n        if (current.name === 'ComeOn') {\n            const team1Odds = current.team1 || Infinity;\n            const team2Odds = current.team2 || Infinity;\n            \n            // Find ud af hvilket hold der er favoritten (laveste odds)\n            const favoritType = team1Odds <= team2Odds ? 'team1' : 'team2';\n            \n            // Placer ComeOn på det modsatte hold af favoritten\n            if (favoritType === 'team1' && current.team2 > 0) {\n                tryDistribution(rest, team1, draw, [...team2, current]);\n            } else if (favoritType === 'team2' && current.team1 > 0) {\n                tryDistribution(rest, [...team1, current], draw, team2);\n            }\n            return;\n        }\n\n        // Prioriter placering baseret på bookmaker præferencer\n        let priorities: Array<{ type: 'team1' | 'draw' | 'team2'; need: number; odds: number; current: BookmakerOdds[] }> = [];\n        \n        // Specialhåndtering for \"kun hvis tab\"-freebets i kvalificerende bets\n        if (isQualifyingBet) {\n            const bookmakerInfo = customer.bookmakers.find(b => b.name === current.name);\n            if (bookmakerInfo?.bonusOnlyIfLost && bookmakerInfo.bonusType === 'freebet') {\n                // Tæl hvor mange \"kun hvis tab\"-freebets der allerede er på hvert udfald\n                const existingBonusOnlyIfLost = [...team1, ...draw, ...team2].filter(bm => {\n                    const bmInfo = customer.bookmakers.find(b => b.name === bm.name);\n                    return bmInfo?.bonusOnlyIfLost && bmInfo.bonusType === 'freebet';\n                });\n                \n                const team1Count = existingBonusOnlyIfLost.filter(bm => bm.betType === 'team1').length;\n                const drawCount = existingBonusOnlyIfLost.filter(bm => bm.betType === 'draw').length;\n                const team2Count = existingBonusOnlyIfLost.filter(bm => bm.betType === 'team2').length;\n                \n                // Prioriter det udfald der har færrest \"kun hvis tab\"-freebets\n                priorities = [\n                    { type: 'team1' as const, need: -team1Count, odds: current.team1, current: team1 },\n                    { type: 'draw' as const, need: -drawCount, odds: current.draw, current: draw },\n                    { type: 'team2' as const, need: -team2Count, odds: current.team2, current: team2 }\n                ]\n                .filter(p => p.odds > 0) // Fjern muligheder hvor odds er 0\n                .sort((a, b) => a.need - b.need); // Laveste count først\n            }\n        }\n        \n        // Hvis der ikke er sat nogen prioriteter endnu, brug standard logik\n        if (priorities.length === 0) {\n            if (current.preferLoss) {\n                // For bookmakere der foretrækker tab, placer dem hvor der er lavest return\n                priorities = [\n                    { type: 'team1' as const, need: -currentTeam1, odds: current.team1, current: team1 },\n                    { type: 'draw' as const, need: -currentDraw, odds: current.draw, current: draw },\n                    { type: 'team2' as const, need: -currentTeam2, odds: current.team2, current: team2 }\n                ]\n                .filter(p => p.odds > 0) // Fjern muligheder hvor odds er 0\n                .sort((a, b) => a.need - b.need);\n            } else {\n                // For normale bookmakere, placer dem hvor der er størst behov\n                priorities = [\n                    { type: 'team1' as const, need: targetReturnPerOutcome - currentTeam1, odds: current.team1, current: team1 },\n                    { type: 'draw' as const, need: targetReturnPerOutcome - currentDraw, odds: current.draw, current: draw },\n                    { type: 'team2' as const, need: targetReturnPerOutcome - currentTeam2, odds: current.team2, current: team2 }\n                ]\n                .filter(p => p.odds > 0) // Fjern muligheder hvor odds er 0\n                .sort((a, b) => b.need - a.need);\n            }\n        }\n\n        // Hvis der ikke er nogen gyldige muligheder, spring denne bookmaker over\n        if (priorities.length === 0) return;\n\n        // Prøv fordelingerne i prioriteret rækkefølge\n        for (const group of priorities) {\n            if (group.type === 'team1') {\n                tryDistribution(rest, [...team1, current], draw, team2);\n            } else if (group.type === 'draw') {\n                tryDistribution(rest, team1, [...draw, current], team2);\n            } else {\n                tryDistribution(rest, team1, draw, [...team2, current]);\n            }\n        }\n    };\n\n    tryDistribution(bookmakerReturns, [], [], []);\n\n    // Konverter den bedste fordeling til det forventede format\n    const allBookmakers = oddsData.map(bm => {\n        let betType: 'team1' | 'draw' | 'team2';\n        let potentialReturn: number;\n\n        if (bestDistribution.team1.find(b => b.name === bm.name)) {\n            betType = 'team1';\n            potentialReturn = bm.team1 * bm.fixedStake;\n        } else if (bestDistribution.draw.find(b => b.name === bm.name)) {\n            betType = 'draw';\n            potentialReturn = bm.draw * bm.fixedStake;\n        } else {\n            betType = 'team2';\n            potentialReturn = bm.team2 * bm.fixedStake;\n        }\n\n        return {\n            name: bm.name,\n            team1Odds: bm.team1,\n            drawOdds: bm.draw,\n            team2Odds: bm.team2,\n            fixedStake: bm.fixedStake,\n            actualCost: bm.actualCost,\n            minOdds: bm.minOdds,\n            preferLoss: bm.preferLoss,\n            avoidWin: bm.avoidWin,\n            betType,\n            potentialReturn\n        };\n    });\n\n    const totalStake = allBookmakers.reduce((sum, bm) => sum + bm.fixedStake, 0);\n    const totalActualCost = allBookmakers.reduce((sum, bm) => sum + bm.actualCost, 0);\n\n    const potentialReturns = {\n        team1: allBookmakers.reduce((sum, bm) => sum + (bm.betType === 'team1' ? bm.potentialReturn : 0), 0),\n        draw: allBookmakers.reduce((sum, bm) => sum + (bm.betType === 'draw' ? bm.potentialReturn : 0), 0),\n        team2: allBookmakers.reduce((sum, bm) => sum + (bm.betType === 'team2' ? bm.potentialReturn : 0), 0)\n    };\n\n    const minReturn = Math.min(\n        potentialReturns.team1,\n        potentialReturns.draw,\n        potentialReturns.team2\n    );\n\n    const profit = minReturn - totalActualCost;\n    const profitPercentage = (profit / totalActualCost) * 100;\n    const isArbitrage = profit > 0;\n\n    return {\n        allBookmakers,\n        totalStake,\n        totalActualCost,\n        potentialReturns,\n        profit,\n        profitPercentage,\n        isArbitrage\n    };\n}\n\n// Utility function to gather odds data from customer bookmakers\nexport function gatherOddsData(customer: Customer): BookmakerOdds[] {\n    const isBet2 = customer.betType === 'bonus';\n\n    return customer.bookmakers.map(bookmaker => {\n        const odds = bookmaker.odds || { team1: 0, draw: 0, team2: 0 };\n\n        // Bestem stake og actual cost baseret på bet type og bonus type\n        let stake = bookmaker.fixedStake;\n        let actualCost = bookmaker.actualCost;\n\n        if (isBet2) {\n            if (!bookmaker.usedInBet1) {\n                // Hvis siden ikke blev brugt i Bet 1, skal den ikke inkluderes\n                stake = 0;\n                actualCost = 0;\n            } else if (bookmaker.bonusType === 'matchingBonus') {\n                // For matching bonus, brug den indtastede saldo\n                stake = bookmaker.bet1Balance || 0;\n                // Actual cost skal være lig med den oprindelige indbetaling, uanset saldo\n                actualCost = bookmaker.qualifyingBetAmount || 0;\n            } else if (bookmaker.bonusType === 'freebet') {\n                // For freebets, tjek om bonus er tilgængelig\n                if (bookmaker.bonusOnlyIfLost && bookmaker.bet1Lost === false) {\n                    // Hvis bonus kun gives ved tab, men vi vandt, så ingen bonus\n                    stake = 0;\n                    actualCost = 0;\n                } else {\n                    // For freebets, brug bonus beløbet\n                    stake = bookmaker.bonusAmount || 0;\n                    // Actual cost skal være lig med freebet beløbet\n                    actualCost = bookmaker.bonusAmount || 0;\n                }\n            }\n        }\n\n        // Marker odds under minimum ved at sætte dem til 0\n        const validTeam1 = odds.team1 >= bookmaker.minOdds ? odds.team1 : 0;\n        const validDraw = odds.draw >= bookmaker.minOdds ? odds.draw : 0;\n        const validTeam2 = odds.team2 >= bookmaker.minOdds ? odds.team2 : 0;\n\n        return {\n            name: bookmaker.name,\n            fixedStake: stake,  // Brug den beregnede stake\n            actualCost: actualCost,  // Brug den beregnede actual cost\n            minOdds: bookmaker.minOdds,\n            preferLoss: bookmaker.preferLoss,\n            avoidWin: bookmaker.avoidWin,\n            isActive: bookmaker.isActive,\n            team1: validTeam1,\n            draw: validDraw,\n            team2: validTeam2,\n            originalOdds: {\n                team1: odds.team1,\n                draw: odds.draw,\n                team2: odds.team2\n            }\n        };\n    }).filter(odds => {\n        // I Bet 2, tjek også at der er en gyldig stake og at siden blev brugt i Bet 1\n        const hasValidStake = !isBet2 || odds.fixedStake > 0;\n        const isUsedInBet2 = !isBet2 || customer.bookmakers.find(b => b.name === odds.name)?.usedInBet1;\n        // Tjek at mindst ét gyldigt odds er indtastet og at bookmakeren er aktiv\n        const hasValidOdds = odds.team1 > 0 || odds.draw > 0 || odds.team2 > 0;\n        return hasValidOdds && odds.isActive && hasValidStake && isUsedInBet2;\n    });\n}\n\n// CSV template generation\nexport function generateCsvTemplate(customers: Customer[]): string {\n    const bookmakers = customers.length === 0 ? BOOKMAKERS : customers[0].bookmakers;\n    const headers = ['Bookmaker', 'Hold 1', 'Uafgjort', 'Hold 2'];\n    \n    const rows = bookmakers.map(bookmaker => [bookmaker.name, '', '', '']);\n    \n    const csvContent = '\\uFEFF' + [\n        headers.join(','),\n        ...rows.map(row => row.join(','))\n    ].join('\\r\\n');\n    \n    return csvContent;\n}\n\n// Parse CSV data\nexport function parseCsvData(csvContent: string, customer: Customer): number {\n    try {\n        const lines = csvContent.split('\\n').filter(line => line.trim());\n        const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\n        \n        // Support both Danish and English column names\n        const bookmakerIndex = headers.findIndex(h => \n            h.includes('bookmaker') || h.includes('bookie') || h.includes('site')\n        );\n        const team1Index = headers.findIndex(h => \n            h.includes('team1') || h.includes('hold 1') || h.includes('home')\n        );\n        const drawIndex = headers.findIndex(h => \n            h.includes('draw') || h.includes('uafgjort') || h.includes('x')\n        );\n        const team2Index = headers.findIndex(h => \n            h.includes('team2') || h.includes('hold 2') || h.includes('away')\n        );\n\n        if (bookmakerIndex === -1 || team1Index === -1 || drawIndex === -1 || team2Index === -1) {\n            throw new Error('CSV skal indeholde kolonner med bookmaker navn og odds for alle tre udfald');\n        }\n\n        let uploadedCount = 0;\n\n        // Parse data rows\n        for (let i = 1; i < lines.length; i++) {\n            const values = lines[i].split(',').map(v => v.trim());\n            \n            if (values.length < Math.max(bookmakerIndex, team1Index, drawIndex, team2Index) + 1) {\n                continue; // Skip incomplete rows\n            }\n\n            const bookmakerName = values[bookmakerIndex];\n            const team1OddsStr = values[team1Index].replace(',', '.'); // Handle Danish decimal separator\n            const drawOddsStr = values[drawIndex].replace(',', '.');\n            const team2OddsStr = values[team2Index].replace(',', '.');\n            \n            const team1Odds = parseFloat(team1OddsStr);\n            const drawOdds = parseFloat(drawOddsStr);\n            const team2Odds = parseFloat(team2OddsStr);\n\n            // Skip if any odds are invalid\n            if (isNaN(team1Odds) || isNaN(drawOdds) || isNaN(team2Odds)) {\n                console.warn(`Skipping row ${i + 1}: Invalid odds for ${bookmakerName}`);\n                continue;\n            }\n\n            // Find matching bookmaker (case-insensitive)\n            const bookmakerIndex_inArray = customer.bookmakers.findIndex(bm => \n                bm.name.toLowerCase() === bookmakerName.toLowerCase()\n            );\n\n            if (bookmakerIndex_inArray !== -1) {\n                customer.bookmakers[bookmakerIndex_inArray].odds = {\n                    team1: team1Odds,\n                    draw: drawOdds,\n                    team2: team2Odds\n                };\n                customer.bookmakers[bookmakerIndex_inArray].isActive = true;\n                uploadedCount++;\n            } else {\n                console.warn(`Bookmaker not found: ${bookmakerName}`);\n            }\n        }\n\n        return uploadedCount;\n    } catch (error) {\n        console.error('Error parsing CSV:', error);\n        throw error;\n    }\n}\n\n// Save calculation function for React integration\nexport async function saveCalculation(calculationData: any, getToken: () => Promise<string>) {\n    try {\n        const token = await getToken();\n        const response = await fetch('/api/calculations/save', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`,\n            },\n            body: JSON.stringify(calculationData),\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to save calculation');\n        }\n\n        return await response.json();\n    } catch (error) {\n        console.error('Error saving calculation:', error);\n        throw error;\n    }\n}\n\n// Export the main calculator functions that will be used by React\nexport {\n    BOOKMAKERS,\n    customers,\n    currentCustomerId,\n    currentBetType,\n    lastCalculatedResult\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 926, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/lib/csv-utils.ts"],"sourcesContent":["// Enhanced CSV utilities for Better Bets\nimport { Customer, BOOKMAKERS, BookmakerInfo } from './calculator';\n\nexport interface CsvExportOptions {\n  includeHeaders?: boolean;\n  includeEmptyRows?: boolean;\n  format?: 'template' | 'data' | 'results';\n  delimiter?: ',' | ';' | '\\t';\n}\n\nexport interface CsvImportResult {\n  success: boolean;\n  importedCount: number;\n  errors: string[];\n  warnings: string[];\n}\n\n// Enhanced CSV template generation with more options\nexport function generateCsvTemplate(\n  customers: Customer[], \n  options: CsvExportOptions = {}\n): string {\n  const {\n    includeHeaders = true,\n    includeEmptyRows = true,\n    format = 'template',\n    delimiter = ','\n  } = options;\n\n  const bookmakers = customers.length === 0 ? BOOKMAKERS : customers[0].bookmakers;\n  \n  let headers: string[];\n  let rows: string[][];\n\n  switch (format) {\n    case 'template':\n      headers = ['Bookmaker', 'Hold 1', 'Uafgjort', 'Hold 2', 'Min. Odds', 'Indsats'];\n      rows = bookmakers.map(bookmaker => [\n        bookmaker.name,\n        '',\n        '',\n        '',\n        bookmaker.minOdds.toString(),\n        bookmaker.fixedStake.toString()\n      ]);\n      break;\n    \n    case 'data':\n      headers = ['Bookmaker', 'Hold 1', 'Uafgjort', 'Hold 2', 'Aktiv'];\n      rows = bookmakers.map(bookmaker => [\n        bookmaker.name,\n        bookmaker.odds?.team1?.toString() || '',\n        bookmaker.odds?.draw?.toString() || '',\n        bookmaker.odds?.team2?.toString() || '',\n        bookmaker.isActive ? 'Ja' : 'Nej'\n      ]);\n      break;\n    \n    case 'results':\n      headers = ['Bookmaker', 'Bet Type', 'Indsats', 'Odds', 'Potentiel Gevinst'];\n      rows = bookmakers\n        .filter(bm => bm.isActive && bm.odds)\n        .map(bookmaker => [\n          bookmaker.name,\n          'Hold 1',\n          bookmaker.fixedStake.toString(),\n          bookmaker.odds!.team1.toString(),\n          (bookmaker.fixedStake * bookmaker.odds!.team1).toFixed(2)\n        ]);\n      break;\n    \n    default:\n      headers = ['Bookmaker', 'Hold 1', 'Uafgjort', 'Hold 2'];\n      rows = bookmakers.map(bookmaker => [bookmaker.name, '', '', '']);\n  }\n\n  if (!includeEmptyRows && format === 'template') {\n    rows = rows.filter(row => row.some(cell => cell.trim() !== ''));\n  }\n\n  const csvContent = '\\uFEFF' + [\n    ...(includeHeaders ? [headers.join(delimiter)] : []),\n    ...rows.map((row: string[]) => row.join(delimiter))\n  ].join('\\r\\n');\n\n  return csvContent;\n}\n\n// Enhanced CSV parsing with better error handling\nexport function parseCsvData(\n  csvContent: string, \n  customer: Customer,\n  options: { delimiter?: string; skipEmptyRows?: boolean } = {}\n): CsvImportResult {\n  const { delimiter = ',', skipEmptyRows = true } = options;\n  \n  const result: CsvImportResult = {\n    success: false,\n    importedCount: 0,\n    errors: [],\n    warnings: []\n  };\n\n  try {\n    // Remove BOM if present\n    const cleanContent = csvContent.replace(/^\\uFEFF/, '');\n    const lines = cleanContent.split(/\\r?\\n/).filter(line => \n      skipEmptyRows ? line.trim() : true\n    );\n\n    if (lines.length < 2) {\n      result.errors.push('CSV filen skal indeholde mindst en header og en datarække');\n      return result;\n    }\n\n    const headers = lines[0].split(delimiter).map(h => h.trim().toLowerCase());\n    \n    // Support multiple column name variations\n    const bookmakerIndex = headers.findIndex(h => \n      h.includes('bookmaker') || h.includes('bookie') || h.includes('site') || h.includes('udbyder')\n    );\n    const team1Index = headers.findIndex(h => \n      h.includes('team1') || h.includes('hold 1') || h.includes('home') || h.includes('hjemme')\n    );\n    const drawIndex = headers.findIndex(h => \n      h.includes('draw') || h.includes('uafgjort') || h.includes('x') || h.includes('uafgjort')\n    );\n    const team2Index = headers.findIndex(h => \n      h.includes('team2') || h.includes('hold 2') || h.includes('away') || h.includes('ude')\n    );\n\n    if (bookmakerIndex === -1) {\n      result.errors.push('CSV skal indeholde en kolonne med bookmaker navne');\n      return result;\n    }\n\n    if (team1Index === -1 || drawIndex === -1 || team2Index === -1) {\n      result.errors.push('CSV skal indeholde kolonner med odds for alle tre udfald (Hold 1, Uafgjort, Hold 2)');\n      return result;\n    }\n\n    // Parse data rows\n    for (let i = 1; i < lines.length; i++) {\n      const line = lines[i].trim();\n      if (!line) continue;\n\n      const values = line.split(delimiter).map(v => v.trim().replace(/\"/g, ''));\n      \n      if (values.length < Math.max(bookmakerIndex, team1Index, drawIndex, team2Index) + 1) {\n        result.warnings.push(`Række ${i + 1}: Ufuldstændig data, springer over`);\n        continue;\n      }\n\n      const bookmakerName = values[bookmakerIndex];\n      if (!bookmakerName) {\n        result.warnings.push(`Række ${i + 1}: Ingen bookmaker navn, springer over`);\n        continue;\n      }\n\n      // Parse odds with better number handling\n      const parseOdds = (oddsStr: string): number | null => {\n        const cleaned = oddsStr.replace(/[^\\d.,]/g, '').replace(',', '.');\n        const parsed = parseFloat(cleaned);\n        return isNaN(parsed) || parsed <= 0 ? null : parsed;\n      };\n\n      const team1Odds = parseOdds(values[team1Index] || '');\n      const drawOdds = parseOdds(values[drawIndex] || '');\n      const team2Odds = parseOdds(values[team2Index] || '');\n\n      if (!team1Odds || !drawOdds || !team2Odds) {\n        result.warnings.push(`Række ${i + 1}: Ugyldige odds for ${bookmakerName}`);\n        continue;\n      }\n\n      // Find matching bookmaker (case-insensitive)\n      const bookmakerIndex_inArray = customer.bookmakers.findIndex(bm => \n        bm.name.toLowerCase() === bookmakerName.toLowerCase()\n      );\n\n      if (bookmakerIndex_inArray !== -1) {\n        const bookmaker = customer.bookmakers[bookmakerIndex_inArray];\n        \n        // Validate minimum odds\n        if (team1Odds < bookmaker.minOdds || drawOdds < bookmaker.minOdds || team2Odds < bookmaker.minOdds) {\n          result.warnings.push(`${bookmakerName}: Odds under minimum (${bookmaker.minOdds})`);\n        }\n\n        bookmaker.odds = {\n          team1: team1Odds,\n          draw: drawOdds,\n          team2: team2Odds\n        };\n        bookmaker.isActive = true;\n        result.importedCount++;\n      } else {\n        result.warnings.push(`Bookmaker ikke fundet: ${bookmakerName}`);\n      }\n    }\n\n    result.success = result.importedCount > 0;\n    if (result.importedCount === 0) {\n      result.errors.push('Ingen gyldige odds blev importeret');\n    }\n\n  } catch (error) {\n    result.errors.push(`Fejl ved parsing af CSV: ${error instanceof Error ? error.message : 'Ukendt fejl'}`);\n  }\n\n  return result;\n}\n\n// Export current calculation results to CSV\nexport function exportCalculationResults(\n  calculationResult: any,\n  customer: Customer,\n  options: CsvExportOptions = {}\n): string {\n  const {\n    includeHeaders = true,\n    delimiter = ','\n  } = options;\n\n  const headers = [\n    'Bookmaker',\n    'Bet Type', \n    'Odds',\n    'Indsats (DKK)',\n    'Faktisk Omkostning (DKK)',\n    'Potentiel Gevinst (DKK)',\n    'Profit (DKK)'\n  ];\n\n  const rows = calculationResult.allBookmakers.map((bm: any) => {\n    const betType = bm.betType === 'team1' ? 'Hold 1' :\n                   bm.betType === 'draw' ? 'Uafgjort' : 'Hold 2';\n    const odds = bm.betType === 'team1' ? bm.team1Odds :\n                 bm.betType === 'draw' ? bm.drawOdds : bm.team2Odds;\n    const potentialWin = bm.fixedStake * odds;\n    const profit = potentialWin - bm.actualCost;\n\n    return [\n      bm.name,\n      betType,\n      odds.toFixed(2),\n      bm.fixedStake.toFixed(2),\n      bm.actualCost.toFixed(2),\n      potentialWin.toFixed(2),\n      profit.toFixed(2)\n    ];\n  });\n\n  // Add summary row\n  rows.push([\n    'TOTAL',\n    '',\n    '',\n    calculationResult.totalStake.toFixed(2),\n    calculationResult.totalActualCost.toFixed(2),\n    '',\n    calculationResult.profit.toFixed(2)\n  ]);\n\n  const csvContent = '\\uFEFF' + [\n    ...(includeHeaders ? [headers.join(delimiter)] : []),\n    ...rows.map((row: string[]) => row.join(delimiter))\n  ].join('\\r\\n');\n\n  return csvContent;\n}\n\n// Download CSV file\nexport function downloadCsvFile(content: string, filename: string): void {\n  const blob = new Blob([content], { type: 'text/csv;charset=utf-8;' });\n  const url = window.URL.createObjectURL(blob);\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n  window.URL.revokeObjectURL(url);\n}\n\n// Validate CSV file before upload\nexport function validateCsvFile(file: File): { valid: boolean; error?: string } {\n  if (!file.name.toLowerCase().endsWith('.csv')) {\n    return { valid: false, error: 'Filen skal være en CSV fil' };\n  }\n\n  if (file.size > 5 * 1024 * 1024) { // 5MB limit\n    return { valid: false, error: 'Filen er for stor (max 5MB)' };\n  }\n\n  if (file.size === 0) {\n    return { valid: false, error: 'Filen er tom' };\n  }\n\n  return { valid: true };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1196, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/csv/CsvManager.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Customer } from '../../lib/calculator';\nimport { \n  generateCsvTemplate, \n  parseCsvData, \n  exportCalculationResults,\n  downloadCsvFile,\n  validateCsvFile,\n  CsvImportResult,\n  CsvExportOptions\n} from '../../lib/csv-utils';\n\ninterface CsvManagerProps {\n  customers: Customer[];\n  currentCustomer: Customer | null;\n  calculationResult?: any;\n  onImportComplete: (result: CsvImportResult) => void;\n}\n\nexport function CsvManager({ \n  customers, \n  currentCustomer, \n  calculationResult,\n  onImportComplete \n}: CsvManagerProps) {\n  const [isUploading, setIsUploading] = useState(false);\n  const [importResult, setImportResult] = useState<CsvImportResult | null>(null);\n  const [showExportOptions, setShowExportOptions] = useState(false);\n  const [exportOptions, setExportOptions] = useState<CsvExportOptions>({\n    includeHeaders: true,\n    includeEmptyRows: true,\n    format: 'template',\n    delimiter: ','\n  });\n\n  const handleFileUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file || !currentCustomer) return;\n\n    setIsUploading(true);\n    setImportResult(null);\n\n    // Validate file\n    const validation = validateCsvFile(file);\n    if (!validation.valid) {\n      onImportComplete({\n        success: false,\n        importedCount: 0,\n        errors: [validation.error!],\n        warnings: []\n      });\n      setIsUploading(false);\n      return;\n    }\n\n    try {\n      const csvContent = await file.text();\n      const result = parseCsvData(csvContent, currentCustomer);\n      \n      setImportResult(result);\n      onImportComplete(result);\n    } catch (error) {\n      const errorResult: CsvImportResult = {\n        success: false,\n        importedCount: 0,\n        errors: [`Fejl ved læsning af fil: ${error instanceof Error ? error.message : 'Ukendt fejl'}`],\n        warnings: []\n      };\n      setImportResult(errorResult);\n      onImportComplete(errorResult);\n    } finally {\n      setIsUploading(false);\n      // Reset file input\n      event.target.value = '';\n    }\n  };\n\n  const handleDownloadTemplate = () => {\n    const csvContent = generateCsvTemplate(customers, exportOptions);\n    downloadCsvFile(csvContent, 'odds_template.csv');\n  };\n\n  const handleDownloadData = () => {\n    if (!currentCustomer) return;\n    const csvContent = generateCsvTemplate([currentCustomer], { ...exportOptions, format: 'data' });\n    downloadCsvFile(csvContent, 'current_odds_data.csv');\n  };\n\n  const handleDownloadResults = () => {\n    if (!calculationResult || !currentCustomer) return;\n    const csvContent = exportCalculationResults(calculationResult, currentCustomer, exportOptions);\n    downloadCsvFile(csvContent, 'calculation_results.csv');\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Upload Section */}\n      <div className=\"bg-white rounded-lg border border-gray-200 p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">CSV Import</h3>\n        \n        <div className=\"flex items-center gap-4\">\n          <label className=\"btn-secondary flex items-center gap-2 cursor-pointer\">\n            <input \n              type=\"file\" \n              accept=\".csv\" \n              onChange={handleFileUpload}\n              className=\"hidden\"\n              disabled={isUploading || !currentCustomer}\n            />\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12\"/>\n            </svg>\n            {isUploading ? 'Uploader...' : 'Upload CSV'}\n          </label>\n          \n          {!currentCustomer && (\n            <span className=\"text-sm text-gray-500\">Vælg en kunde først</span>\n          )}\n        </div>\n\n        {/* Import Results */}\n        {importResult && (\n          <div className={`mt-4 p-3 rounded-lg ${\n            importResult.success ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'\n          }`}>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <svg className={`w-5 h-5 ${importResult.success ? 'text-green-600' : 'text-red-600'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d={importResult.success ? \"M5 13l4 4L19 7\" : \"M6 18L18 6M6 6l12 12\"}/>\n              </svg>\n              <span className={`font-medium ${importResult.success ? 'text-green-800' : 'text-red-800'}`}>\n                {importResult.success ? 'Import gennemført' : 'Import fejlede'}\n              </span>\n            </div>\n            \n            <p className={`text-sm ${importResult.success ? 'text-green-700' : 'text-red-700'}`}>\n              {importResult.importedCount} bookmakere importeret\n            </p>\n\n            {importResult.errors.length > 0 && (\n              <div className=\"mt-2\">\n                <p className=\"text-sm font-medium text-red-800\">Fejl:</p>\n                <ul className=\"text-sm text-red-700 list-disc list-inside\">\n                  {importResult.errors.map((error, index) => (\n                    <li key={index}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n\n            {importResult.warnings.length > 0 && (\n              <div className=\"mt-2\">\n                <p className=\"text-sm font-medium text-yellow-800\">Advarsler:</p>\n                <ul className=\"text-sm text-yellow-700 list-disc list-inside\">\n                  {importResult.warnings.map((warning, index) => (\n                    <li key={index}>{warning}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Export Section */}\n      <div className=\"bg-white rounded-lg border border-gray-200 p-4\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">CSV Export</h3>\n          <button\n            onClick={() => setShowExportOptions(!showExportOptions)}\n            className=\"text-sm text-blue-600 hover:text-blue-800\"\n          >\n            {showExportOptions ? 'Skjul indstillinger' : 'Vis indstillinger'}\n          </button>\n        </div>\n\n        {/* Export Options */}\n        {showExportOptions && (\n          <div className=\"mb-4 p-3 bg-gray-50 rounded-lg space-y-3\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Format</label>\n                <select\n                  value={exportOptions.format}\n                  onChange={(e) => setExportOptions({...exportOptions, format: e.target.value as any})}\n                  className=\"input-field text-sm\"\n                >\n                  <option value=\"template\">Skabelon</option>\n                  <option value=\"data\">Nuværende data</option>\n                  <option value=\"results\">Beregningsresultater</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Separator</label>\n                <select\n                  value={exportOptions.delimiter}\n                  onChange={(e) => setExportOptions({...exportOptions, delimiter: e.target.value as any})}\n                  className=\"input-field text-sm\"\n                >\n                  <option value=\",\">Komma (,)</option>\n                  <option value=\";\">Semikolon (;)</option>\n                  <option value=\"\\t\">Tabulator</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={exportOptions.includeHeaders}\n                  onChange={(e) => setExportOptions({...exportOptions, includeHeaders: e.target.checked})}\n                  className=\"form-checkbox\"\n                />\n                <span className=\"text-sm text-gray-700\">Inkluder headers</span>\n              </label>\n              <label className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  checked={exportOptions.includeEmptyRows}\n                  onChange={(e) => setExportOptions({...exportOptions, includeEmptyRows: e.target.checked})}\n                  className=\"form-checkbox\"\n                />\n                <span className=\"text-sm text-gray-700\">Inkluder tomme rækker</span>\n              </label>\n            </div>\n          </div>\n        )}\n\n        {/* Export Buttons */}\n        <div className=\"flex flex-wrap gap-3\">\n          <button\n            onClick={handleDownloadTemplate}\n            className=\"btn-secondary flex items-center gap-2\"\n            disabled={customers.length === 0}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"/>\n            </svg>\n            Download Skabelon\n          </button>\n\n          <button\n            onClick={handleDownloadData}\n            className=\"btn-secondary flex items-center gap-2\"\n            disabled={!currentCustomer}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n            </svg>\n            Download Data\n          </button>\n\n          <button\n            onClick={handleDownloadResults}\n            className=\"btn-secondary flex items-center gap-2\"\n            disabled={!calculationResult}\n          >\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\"/>\n            </svg>\n            Download Resultater\n          </button>\n        </div>\n\n        {/* Help Text */}\n        <div className=\"mt-3 text-sm text-gray-600\">\n          <p><strong>Skabelon:</strong> Tom CSV med bookmaker navne til udfyldning</p>\n          <p><strong>Data:</strong> Nuværende odds data fra valgt kunde</p>\n          <p><strong>Resultater:</strong> Beregningsresultater med indsatser og gevinster</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1886, "column": 0}, "map": {"version":3,"sources":["file:///Users/konradkjems/Desktop/Cursor-Projects/better-bets/src/components/calculator/Calculator.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '@clerk/nextjs';\nimport { ProtectedContent } from '../auth/AuthButton';\nimport { \n  Customer, \n  BOOKMAKERS,\n  calculateArbitrage,\n  gatherOddsData,\n  BookmakerInfo,\n  ArbitrageResult\n} from '../../lib/calculator';\nimport { CsvManager } from '../csv/CsvManager';\nimport type { CsvImportResult } from '../../lib/csv-utils';\n\nexport function Calculator() {\n  const { getToken } = useAuth();\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const [currentCustomerId, setCurrentCustomerId] = useState<string | null>(null);\n  const [currentBetType, setCurrentBetType] = useState<'qualifying' | 'bonus'>('qualifying');\n  const [lastCalculatedResult, setLastCalculatedResult] = useState<ArbitrageResult | null>(null);\n  const [saveStatus, setSaveStatus] = useState<'idle' | 'saving' | 'saved' | 'error'>('idle');\n  const [calculationStatus, setCalculationStatus] = useState<'idle' | 'calculating' | 'error'>('idle');\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\n  const [showCustomerForm, setShowCustomerForm] = useState(false);\n  const [newCustomerName, setNewCustomerName] = useState('');\n  const [team1Name, setTeam1Name] = useState('');\n  const [team2Name, setTeam2Name] = useState('');\n\n  // Initialize calculator when component mounts\n  useEffect(() => {\n    // Initialize the vanilla TS calculator functionality\n    initializeCalculator();\n  }, []);\n\n  const initializeCalculator = () => {\n    // This will initialize the calculator UI and functionality\n    // For now, we'll create a basic structure\n  };\n\n  const getCurrentCustomer = (): Customer | null => {\n    return customers.find(c => c.id === currentCustomerId) || customers[0] || null;\n  };\n\n  const addCustomer = () => {\n    if (!newCustomerName.trim() || !team1Name.trim() || !team2Name.trim()) {\n      alert('Du skal udfylde alle felter for at fortsætte');\n      return;\n    }\n\n    const newId = `kunde${customers.length + 1}`;\n    const newCustomer: Customer = {\n      id: newId,\n      name: newCustomerName,\n      bookmakers: BOOKMAKERS.map(bm => ({...bm})),\n      teamNames: {\n        team1: team1Name,\n        team2: team2Name\n      },\n      betType: 'qualifying'\n    };\n    \n    setCustomers([...customers, newCustomer]);\n    setCurrentCustomerId(newId);\n    setCurrentBetType('qualifying');\n    setShowCustomerForm(false);\n    setNewCustomerName('');\n    setTeam1Name('');\n    setTeam2Name('');\n  };\n\n  const switchCustomer = (customerId: string) => {\n    setCurrentCustomerId(customerId);\n    const customer = customers.find(c => c.id === customerId);\n    if (customer) {\n      setCurrentBetType(customer.betType);\n    }\n  };\n\n  const switchBetType = (betType: 'qualifying' | 'bonus') => {\n    setCurrentBetType(betType);\n    const customer = getCurrentCustomer();\n    if (customer) {\n      customer.betType = betType;\n      setCustomers([...customers]);\n    }\n  };\n\n  const calculateArbitrageHandler = async () => {\n    const customer = getCurrentCustomer();\n    if (!customer) {\n      setErrorMessage('Vælg en kunde først');\n      setCalculationStatus('error');\n      return;\n    }\n\n    setCalculationStatus('calculating');\n    setErrorMessage(null);\n\n    try {\n      // Collect odds data from active bookmakers using the utility function\n      const oddsData = gatherOddsData(customer);\n\n      if (oddsData.length === 0) {\n        setErrorMessage('Indtast odds for mindst én aktiv bookmaker');\n        setCalculationStatus('error');\n        return;\n      }\n\n      // Use the advanced arbitrage calculation from calculator.ts\n      const result = calculateArbitrage(oddsData, customer);\n      setLastCalculatedResult(result);\n      setCalculationStatus('idle');\n    } catch (error) {\n      console.error('Calculation error:', error);\n      setErrorMessage(`Fejl ved beregning: ${error instanceof Error ? error.message : 'Ukendt fejl'}`);\n      setCalculationStatus('error');\n    }\n  };\n\n  const saveCalculationHandler = async (calculationData: any) => {\n    try {\n      const token = await getToken();\n      if (!token) throw new Error('No authentication token available');\n      \n      const response = await fetch('/api/calculations', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify(calculationData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to save calculation');\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error saving calculation:', error);\n      throw error;\n    }\n  };\n\n  const handleSaveCalculation = async () => {\n    if (!lastCalculatedResult) return;\n\n    try {\n      setSaveStatus('saving');\n      \n      const customer = getCurrentCustomer();\n      if (!customer) {\n        throw new Error('No customer selected');\n      }\n\n      const calculationData = {\n        customerName: customer.name,\n        teamNames: customer.teamNames,\n        betType: currentBetType,\n        bookmakers: lastCalculatedResult.allBookmakers,\n        results: {\n          totalStake: lastCalculatedResult.totalStake,\n          totalActualCost: lastCalculatedResult.totalActualCost,\n          potentialReturns: lastCalculatedResult.potentialReturns,\n          profit: lastCalculatedResult.profit,\n          profitPercentage: lastCalculatedResult.profitPercentage,\n          isArbitrage: lastCalculatedResult.isArbitrage,\n        }\n      };\n\n      await saveCalculationHandler(calculationData);\n      setSaveStatus('saved');\n      \n      // Reset status after 3 seconds\n      setTimeout(() => setSaveStatus('idle'), 3000);\n    } catch (error) {\n      console.error('Error saving calculation:', error);\n      setSaveStatus('error');\n      setTimeout(() => setSaveStatus('idle'), 3000);\n    }\n  };\n\n  const handleCsvImportComplete = (result: CsvImportResult) => {\n    if (result.success) {\n      setCustomers([...customers]);\n    }\n    \n    // Show result message\n    if (result.errors.length > 0) {\n      alert(`Fejl: ${result.errors.join(', ')}`);\n    } else if (result.warnings.length > 0) {\n      alert(`Advarsler: ${result.warnings.join(', ')}`);\n    } else {\n      alert(`Odds uploadet for ${result.importedCount} bookmakere`);\n    }\n  };\n\n  return (\n    <ProtectedContent>\n      <div className=\"max-w-3xl mx-auto mb-8 bg-blue-50 rounded-xl p-6 shadow-sm\">\n        <h2 className=\"text-xl font-bold text-blue-800 mb-4\">Sådan kommer du i gang:</h2>\n        <ol className=\"space-y-3 text-blue-900\">\n          <li className=\"flex items-start gap-3\">\n            <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center font-bold\">1</span>\n            <span>Klik på \"Start Ny Beregning\" og indtast dit navn samt navnene på de to hold du vil beregne odds for.</span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center font-bold\">2</span>\n            <span>Indtast odds fra forskellige bookmakere. Du kan enten:\n              <ul className=\"ml-9 mt-2 space-y-1 list-disc text-blue-800\">\n                <li>Indtaste odds manuelt for hver bookmaker</li>\n                <li>Downloade vores CSV-skabelon, udfylde den og uploade den igen</li>\n              </ul>\n            </span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center font-bold\">3</span>\n            <span>Brug toggle-knapperne ved siden af hver bookmaker for at vælge hvilke bookmakere der skal indgå i beregningen.</span>\n          </li>\n          <li className=\"flex items-start gap-3\">\n            <span className=\"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center font-bold\">4</span>\n            <span>Klik på \"Find Bedste Arbitrage Mulighed\" for at se den optimale fordeling af indsatser.</span>\n          </li>\n        </ol>\n        <div className=\"mt-4 pt-4 border-t border-blue-200\">\n          <p className=\"text-blue-800 font-medium\">💡 Tips:</p>\n          <ul className=\"mt-2 space-y-1 list-disc ml-5 text-blue-800\">\n            <li>Jo flere bookmakere du inkluderer, jo større chance er der for at finde en god arbitrage mulighed</li>\n            <li>Sørg for at odds er indtastet korrekt - selv små fejl kan påvirke resultatet</li>\n            <li>Hold øje med minimum odds kravene for hver bookmaker</li>\n          </ul>\n        </div>\n      </div>\n      \n      {/* Customer Selector */}\n      <div className=\"mb-6 bg-white rounded-xl shadow-sm p-4\">\n        {customers.length === 0 ? (\n          <div className=\"text-center py-4\">\n            <button \n              onClick={() => setShowCustomerForm(true)}\n              className=\"btn-primary\"\n            >\n              Start Ny Beregning\n            </button>\n            <p className=\"text-gray-600 mt-2\">Tryk på knappen ovenfor for at starte en ny beregning</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                <select \n                  value={currentCustomerId || ''} \n                  onChange={(e) => switchCustomer(e.target.value)}\n                  className=\"input-field max-w-xs\"\n                >\n                  {customers.map(customer => (\n                    <option key={customer.id} value={customer.id}>\n                      {customer.name}\n                    </option>\n                  ))}\n                </select>\n                <button \n                  onClick={() => setShowCustomerForm(true)}\n                  className=\"btn-secondary\"\n                >\n                  Tilføj ny kunde\n                </button>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <label className=\"text-sm font-medium text-gray-700\">Bet Type:</label>\n                <select \n                  value={currentBetType} \n                  onChange={(e) => switchBetType(e.target.value as 'qualifying' | 'bonus')}\n                  className=\"input-field\"\n                >\n                  <option value=\"qualifying\">Bet 1 (Kvalificerende)</option>\n                  <option value=\"bonus\">Bet 2 (Bonus og Freebets)</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hold 1</label>\n                <input \n                  type=\"text\" \n                  className=\"input-field\" \n                  placeholder=\"Indtast navn på hold 1\"\n                  value={getCurrentCustomer()?.teamNames?.team1 || ''}\n                  onChange={(e) => {\n                    const customer = getCurrentCustomer();\n                    if (customer && customer.teamNames) {\n                      customer.teamNames.team1 = e.target.value;\n                      setCustomers([...customers]);\n                    }\n                  }}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hold 2</label>\n                <input \n                  type=\"text\" \n                  className=\"input-field\" \n                  placeholder=\"Indtast navn på hold 2\"\n                  value={getCurrentCustomer()?.teamNames?.team2 || ''}\n                  onChange={(e) => {\n                    const customer = getCurrentCustomer();\n                    if (customer && customer.teamNames) {\n                      customer.teamNames.team2 = e.target.value;\n                      setCustomers([...customers]);\n                    }\n                  }}\n                />\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Customer Form Modal */}\n        {showCustomerForm && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h2 className=\"text-xl font-bold mb-4\">Ny Beregning</h2>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Kundenavn</label>\n                  <input \n                    type=\"text\" \n                    className=\"input-field w-full\" \n                    placeholder=\"Indtast kundens navn\"\n                    value={newCustomerName}\n                    onChange={(e) => setNewCustomerName(e.target.value)}\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hold 1</label>\n                    <input \n                      type=\"text\" \n                      className=\"input-field w-full\" \n                      placeholder=\"Indtast navn på hold 1\"\n                      value={team1Name}\n                      onChange={(e) => setTeam1Name(e.target.value)}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Hold 2</label>\n                    <input \n                      type=\"text\" \n                      className=\"input-field w-full\" \n                      placeholder=\"Indtast navn på hold 2\"\n                      value={team2Name}\n                      onChange={(e) => setTeam2Name(e.target.value)}\n                    />\n                  </div>\n                </div>\n                <div className=\"flex justify-end gap-2 mt-4\">\n                  <button \n                    onClick={() => setShowCustomerForm(false)}\n                    className=\"btn-secondary\"\n                  >\n                    Annuller\n                  </button>\n                  <button \n                    onClick={addCustomer}\n                    className=\"btn-primary\"\n                  >\n                    Fortsæt til odds\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n      \n      <div className=\"flex flex-col lg:flex-row gap-6\">\n        {/* Left side - Odds input */}\n        <div className=\"lg:w-1/2\">\n          <div className=\"bg-white rounded-xl shadow-sm p-6\">\n            <div className=\"mb-6\">\n              <h2 className=\"text-xl font-bold text-gray-800 mb-2\">Bookmaker Odds</h2>\n              <p className=\"text-sm text-gray-600 mb-4\" role=\"note\" aria-label=\"Instructions for entering odds\">Indtast odds for hver bookmaker</p>\n              \n              {/* CSV Manager */}\n              <CsvManager\n                customers={customers}\n                currentCustomer={getCurrentCustomer()}\n                calculationResult={lastCalculatedResult}\n                onImportComplete={handleCsvImportComplete}\n              />\n            </div>\n            <div className=\"overflow-y-auto max-h-[calc(100vh-300px)]\">\n              {getCurrentCustomer() ? (\n                <div className=\"space-y-4\">\n                  {getCurrentCustomer()!.bookmakers.map((bookmaker, index) => (\n                    <div key={index} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <div>\n                          <div className=\"flex items-center gap-2\">\n                            <h3 className=\"font-semibold text-gray-800\">{bookmaker.name}</h3>\n                            <label className=\"relative inline-flex items-center cursor-pointer\">\n                              <input \n                                type=\"checkbox\" \n                                className=\"sr-only peer\" \n                                checked={bookmaker.isActive}\n                                onChange={(e) => {\n                                  const customer = getCurrentCustomer();\n                                  if (customer) {\n                                    customer.bookmakers[index].isActive = e.target.checked;\n                                    setCustomers([...customers]);\n                                  }\n                                }}\n                              />\n                              <div className=\"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600\"></div>\n                            </label>\n                          </div>\n                          <p className=\"text-sm text-gray-600\">\n                            Min. odds: {bookmaker.minOdds} | Indsats: {bookmaker.fixedStake} DKK\n                          </p>\n                          {bookmaker.bonusType !== 'none' && (\n                            <div className=\"mt-1\">\n                              <div className=\"flex items-center gap-2\">\n                                <span className={`inline-flex items-center px-2 py-1 rounded-md text-sm ${\n                                  bookmaker.bonusType === 'freebet' ? 'bg-green-100 text-green-800' : \n                                  'bg-blue-100 text-blue-800'\n                                }`}>\n                                  {bookmaker.bonusType === 'freebet' ? 'Freebet' : 'Matching Bonus'}: \n                                  {bookmaker.bonusAmount} DKK\n                                  {bookmaker.isBonusLocked ? ' 🔒' : ' ✓'}\n                                  {bookmaker.bonusOnlyIfLost ? ' (kun hvis tabt)' : ''}\n                                </span>\n                                {currentBetType === 'bonus' && (\n                                  <label className=\"flex items-center gap-1\">\n                                    <input \n                                      type=\"checkbox\" \n                                      className=\"form-checkbox h-4 w-4 text-blue-600\"\n                                      checked={bookmaker.usedInBet1 || false}\n                                      onChange={(e) => {\n                                        const customer = getCurrentCustomer();\n                                        if (customer) {\n                                          customer.bookmakers[index].usedInBet1 = e.target.checked;\n                                          setCustomers([...customers]);\n                                        }\n                                      }}\n                                    />\n                                    <span className=\"text-sm text-gray-600\">Brugt i Bet 1</span>\n                                  </label>\n                                )}\n                              </div>\n                              <p className=\"text-xs text-gray-600 mt-1\">\n                                Kræver {bookmaker.qualifyingBetAmount} DKK kvalificerende bet med min. odds {bookmaker.bonusMinOdds}\n                                {bookmaker.bonusOnlyIfLost ? ' - Bonus kun hvis kvalificerende bet tabes (spil på underdog)' : ''}\n                              </p>\n                              \n                              {/* Bet 2 specific fields */}\n                              {currentBetType === 'bonus' && (\n                                <div className=\"mt-2\">\n                                  {bookmaker.bonusType === 'matchingBonus' && (\n                                    <div className=\"flex items-center gap-2\">\n                                      <label className=\"text-sm text-gray-600\">Saldo fra Bet 1:</label>\n                                      <input \n                                        type=\"number\" \n                                        className=\"input-field w-32\" \n                                        value={bookmaker.bet1Balance || ''}\n                                        placeholder=\"DKK\"\n                                        disabled={!bookmaker.usedInBet1}\n                                        onChange={(e) => {\n                                          const customer = getCurrentCustomer();\n                                          if (customer) {\n                                            customer.bookmakers[index].bet1Balance = parseFloat(e.target.value) || 0;\n                                            setCustomers([...customers]);\n                                          }\n                                        }}\n                                      />\n                                    </div>\n                                  )}\n                                  \n                                  {bookmaker.bonusType === 'freebet' && (\n                                    <div className=\"space-y-2\">\n                                      {bookmaker.bonusOnlyIfLost && (\n                                        <div className=\"space-y-2\">\n                                          <div className=\"flex items-center gap-2\">\n                                            <label className=\"text-sm text-gray-600\">Bet 1 resultat:</label>\n                                            <div className=\"flex items-center gap-2\">\n                                              <label className=\"flex items-center gap-1\">\n                                                <input \n                                                  type=\"radio\" \n                                                  name={`${bookmaker.name}-bet1-result`}\n                                                  value=\"lost\"\n                                                  className=\"form-radio h-4 w-4 text-red-600\"\n                                                  checked={bookmaker.bet1Lost === true}\n                                                  onChange={() => {\n                                                    const customer = getCurrentCustomer();\n                                                    if (customer) {\n                                                      customer.bookmakers[index].bet1Lost = true;\n                                                      setCustomers([...customers]);\n                                                    }\n                                                  }}\n                                                />\n                                                <span className=\"text-sm text-red-600\">Tabt</span>\n                                              </label>\n                                              <label className=\"flex items-center gap-1\">\n                                                <input \n                                                  type=\"radio\" \n                                                  name={`${bookmaker.name}-bet1-result`}\n                                                  value=\"won\"\n                                                  className=\"form-radio h-4 w-4 text-green-600\"\n                                                  checked={bookmaker.bet1Lost === false}\n                                                  onChange={() => {\n                                                    const customer = getCurrentCustomer();\n                                                    if (customer) {\n                                                      customer.bookmakers[index].bet1Lost = false;\n                                                      setCustomers([...customers]);\n                                                    }\n                                                  }}\n                                                />\n                                                <span className=\"text-sm text-green-600\">Vundet</span>\n                                              </label>\n                                            </div>\n                                          </div>\n                                          <div className=\"text-xs text-gray-600 bg-blue-50 p-2 rounded border-l-4 border-blue-400\">\n                                            <strong>💡 Freebet betingelse:</strong> \n                                            <span className=\"ml-1\">\n                                              {bookmaker.bet1Lost === true ? \n                                                <span className=\"text-green-600 font-medium\">✓ Freebet er tilgængelig (Bet 1 blev tabt)</span> : \n                                                bookmaker.bet1Lost === false ? \n                                                  <span className=\"text-red-600 font-medium\">✗ Freebet ikke tilgængelig (Bet 1 blev vundet)</span> :\n                                                  <span className=\"text-gray-500\">Vælg Bet 1 resultat for at se om freebet er tilgængelig</span>\n                                              }\n                                            </span>\n                                          </div>\n                                        </div>\n                                      )}\n                                      <div className=\"flex items-center gap-2\">\n                                        <label className=\"text-sm text-gray-600\">Gevinst fra Bet 1:</label>\n                                        <input \n                                          type=\"number\" \n                                          className=\"input-field w-32\" \n                                          value={bookmaker.bet1Profit || ''}\n                                          placeholder=\"DKK\"\n                                          onChange={(e) => {\n                                            const customer = getCurrentCustomer();\n                                            if (customer) {\n                                              customer.bookmakers[index].bet1Profit = parseFloat(e.target.value) || 0;\n                                              setCustomers([...customers]);\n                                            }\n                                          }}\n                                        />\n                                        <div className=\"text-xs text-gray-500 ml-2\">\n                                          {bookmaker.usedInBet1 ? `(Freebet: ${bookmaker.bonusAmount} DKK)` : '(Ikke brugt i Bet 1)'}\n                                        </div>\n                                      </div>\n                                    </div>\n                                  )}\n                                </div>\n                              )}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                      <div className=\"grid grid-cols-3 gap-4\">\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\" htmlFor={`team1-${index}`}>Hold 1</label>\n                          <input \n                            id={`team1-${index}`}\n                            type=\"number\" \n                            step=\"0.01\" \n                            min={bookmaker.minOdds}\n                            className=\"input-field\" \n                            placeholder=\"Odds\"\n                            value={bookmaker.odds?.team1 || ''}\n                            onChange={(e) => {\n                              const customer = getCurrentCustomer();\n                              if (customer) {\n                                if (!customer.bookmakers[index].odds) {\n                                  customer.bookmakers[index].odds = { team1: 0, draw: 0, team2: 0 };\n                                }\n                                customer.bookmakers[index].odds!.team1 = parseFloat(e.target.value) || 0;\n                                setCustomers([...customers]);\n                              }\n                            }}\n                            aria-label={`Team 1 odds for ${bookmaker.name}`}\n                          />\n                          <div className=\"text-xs text-red-600 hidden mt-1\">\n                            Min. {bookmaker.minOdds}\n                          </div>\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\" htmlFor={`draw-${index}`}>Uafgjort</label>\n                          <input \n                            id={`draw-${index}`}\n                            type=\"number\" \n                            step=\"0.01\" \n                            min={bookmaker.minOdds}\n                            className=\"input-field\" \n                            placeholder=\"Odds\"\n                            value={bookmaker.odds?.draw || ''}\n                            onChange={(e) => {\n                              const customer = getCurrentCustomer();\n                              if (customer) {\n                                if (!customer.bookmakers[index].odds) {\n                                  customer.bookmakers[index].odds = { team1: 0, draw: 0, team2: 0 };\n                                }\n                                customer.bookmakers[index].odds!.draw = parseFloat(e.target.value) || 0;\n                                setCustomers([...customers]);\n                              }\n                            }}\n                            aria-label={`Draw odds for ${bookmaker.name}`}\n                          />\n                          <div className=\"text-xs text-red-600 hidden mt-1\">\n                            Min. {bookmaker.minOdds}\n                          </div>\n                        </div>\n                        <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\" htmlFor={`team2-${index}`}>Hold 2</label>\n                          <input \n                            id={`team2-${index}`}\n                            type=\"number\" \n                            step=\"0.01\" \n                            min={bookmaker.minOdds}\n                            className=\"input-field\" \n                            placeholder=\"Odds\"\n                            value={bookmaker.odds?.team2 || ''}\n                            onChange={(e) => {\n                              const customer = getCurrentCustomer();\n                              if (customer) {\n                                if (!customer.bookmakers[index].odds) {\n                                  customer.bookmakers[index].odds = { team1: 0, draw: 0, team2: 0 };\n                                }\n                                customer.bookmakers[index].odds!.team2 = parseFloat(e.target.value) || 0;\n                                setCustomers([...customers]);\n                              }\n                            }}\n                            aria-label={`Team 2 odds for ${bookmaker.name}`}\n                          />\n                          <div className=\"text-xs text-red-600 hidden mt-1\">\n                            Min. {bookmaker.minOdds}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <div className=\"text-center py-8 text-gray-500\">\n                  Opret en kunde for at indtaste odds\n                </div>\n              )}\n            </div>\n            <div className=\"mt-6 pt-4 border-t border-gray-100\">\n              <button \n                className={`btn-primary flex items-center justify-center gap-2 ${\n                  calculationStatus === 'calculating' ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n                onClick={calculateArbitrageHandler}\n                disabled={calculationStatus === 'calculating'}\n                aria-label=\"Calculate arbitrage opportunities\"\n                aria-describedby=\"calculation-status\"\n              >\n                {calculationStatus === 'calculating' ? (\n                  <>\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"/>\n                    </svg>\n                    Beregner...\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\"/>\n                    </svg>\n                    Find Bedste Arbitrage Mulighed\n                  </>\n                )}\n              </button>\n              \n              {/* Status for screen readers */}\n              <div id=\"calculation-status\" className=\"sr-only\" aria-live=\"polite\">\n                {calculationStatus === 'calculating' ? 'Calculating arbitrage opportunities...' : \n                 calculationStatus === 'error' ? 'Calculation failed' : \n                 'Ready to calculate'}\n              </div>\n              \n              {/* Error Message */}\n              {errorMessage && (\n                <div className=\"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                  <div className=\"flex items-center gap-2\">\n                    <svg className=\"w-5 h-5 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"/>\n                    </svg>\n                    <span className=\"text-red-800 font-medium\">Fejl</span>\n                  </div>\n                  <p className=\"text-red-700 text-sm mt-1\">{errorMessage}</p>\n                  <button\n                    onClick={() => setErrorMessage(null)}\n                    className=\"text-red-600 hover:text-red-800 text-sm mt-2\"\n                  >\n                    Luk\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Right side - Results */}\n        <div className=\"lg:w-1/2\">\n          {lastCalculatedResult ? (\n            <div className=\"bg-white rounded-xl shadow-sm p-6\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h2 className=\"text-xl font-bold text-gray-800\">Arbitrage Muligheder</h2>\n                  <p className=\"text-sm text-gray-600 mt-1\">Beregnede indsatser og potentielle gevinster</p>\n                </div>\n                <button\n                  onClick={handleSaveCalculation}\n                  disabled={saveStatus === 'saving'}\n                  className={`btn-secondary ${\n                    saveStatus === 'saved' ? 'bg-green-100 text-green-800' :\n                    saveStatus === 'error' ? 'bg-red-100 text-red-800' :\n                    saveStatus === 'saving' ? 'opacity-50' : ''\n                  }`}\n                >\n                  {saveStatus === 'saving' ? 'Saving...' :\n                   saveStatus === 'saved' ? 'Saved!' :\n                   saveStatus === 'error' ? 'Error' :\n                   'Save Calculation'}\n                </button>\n              </div>\n              \n              <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-100\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div>\n                    <div className={`font-semibold text-lg mb-2 ${\n                      lastCalculatedResult.isArbitrage ? 'text-green-600' : 'text-red-600'\n                    }`}>\n                      {lastCalculatedResult.isArbitrage ? '✓ Arbitrage mulighed!' : '✗ Ingen arbitrage'}\n                    </div>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600\">Total indsats:</span>\n                        <span className=\"font-medium\">{lastCalculatedResult.totalStake.toLocaleString('da-DK')} DKK</span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600\">Faktisk omkostning:</span>\n                        <span className=\"font-medium\">{lastCalculatedResult.totalActualCost.toLocaleString('da-DK')} DKK</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div>\n                    <div className=\"font-semibold text-gray-800 mb-2\">Potentielle gevinster:</div>\n                    <div className=\"space-y-2\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600\">Hold 1:</span>\n                        <span className=\"font-medium\">{lastCalculatedResult.potentialReturns.team1.toLocaleString('da-DK')} DKK</span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600\">Uafgjort:</span>\n                        <span className=\"font-medium\">{lastCalculatedResult.potentialReturns.draw.toLocaleString('da-DK')} DKK</span>\n                      </div>\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600\">Hold 2:</span>\n                        <span className=\"font-medium\">{lastCalculatedResult.potentialReturns.team2.toLocaleString('da-DK')} DKK</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"mt-4 pt-4 border-t border-gray-200\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-gray-700 font-medium\">Garanteret profit:</span>\n                    <span className={`text-lg font-bold ${\n                      lastCalculatedResult.isArbitrage ? 'text-green-600' : 'text-red-600'\n                    }`}>\n                      {lastCalculatedResult.profit.toLocaleString('da-DK')} DKK ({lastCalculatedResult.profitPercentage.toFixed(2)}%)\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Detailed Bookmaker Table */}\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full text-sm\">\n                  <thead>\n                    <tr className=\"border-b border-gray-200\">\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">Bookmaker</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\n                        {getCurrentCustomer()?.teamNames?.team1 || 'Hold 1'}\n                      </th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">Uafgjort</th>\n                      <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\n                        {getCurrentCustomer()?.teamNames?.team2 || 'Hold 2'}\n                      </th>\n                      <th className=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">Indsats</th>\n                      <th className=\"px-4 py-3 text-right text-sm font-semibold text-gray-700\">Gevinst</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {lastCalculatedResult.allBookmakers.map((bm: any, index: number) => {\n                      // Calculate potential win based on betType\n                      const potentialWin = bm.betType === 'team1' ? bm.team1Odds * bm.fixedStake :\n                                          bm.betType === 'draw' ? bm.drawOdds * bm.fixedStake :\n                                          bm.team2Odds * bm.fixedStake;\n\n                      return (\n                        <tr key={index} className=\"hover:bg-gray-50 transition-colors duration-150\">\n                          <td className=\"px-4 py-3\">\n                            <div className=\"font-medium text-gray-900\">{bm.name}</div>\n                            {bm.actualCost !== bm.fixedStake && (\n                              <div className=\"text-xs text-green-600\">Med bonus</div>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-3\">\n                            <div className=\"flex items-center gap-1\">\n                              {bm.team1Odds.toFixed(2)}\n                              {bm.betType === 'team1' && (\n                                <span className=\"inline-flex items-center justify-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full\">\n                                  Spil på {getCurrentCustomer()?.teamNames?.team1 || 'Hold 1'}\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-4 py-3\">\n                            <div className=\"flex items-center gap-1\">\n                              {bm.drawOdds.toFixed(2)}\n                              {bm.betType === 'draw' && (\n                                <span className=\"inline-flex items-center justify-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full\">\n                                  Spil på Uafgjort\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-4 py-3\">\n                            <div className=\"flex items-center gap-1\">\n                              {bm.team2Odds.toFixed(2)}\n                              {bm.betType === 'team2' && (\n                                <span className=\"inline-flex items-center justify-center px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full\">\n                                  Spil på {getCurrentCustomer()?.teamNames?.team2 || 'Hold 2'}\n                                </span>\n                              )}\n                            </div>\n                          </td>\n                          <td className=\"px-4 py-3 text-right\">\n                            <div className=\"font-medium\">{bm.fixedStake.toLocaleString('da-DK')} DKK</div>\n                            {bm.actualCost !== bm.fixedStake && (\n                              <div className=\"text-xs text-green-600\">{bm.actualCost.toLocaleString('da-DK')} DKK</div>\n                            )}\n                          </td>\n                          <td className=\"px-4 py-3 text-right\">\n                            <div className=\"font-medium text-green-600\">{potentialWin.toLocaleString('da-DK')} DKK</div>\n                            {bm.actualCost !== bm.fixedStake && (\n                              <div className=\"text-xs text-green-600\">\n                                Profit: {(potentialWin - bm.actualCost).toLocaleString('da-DK')} DKK\n                              </div>\n                            )}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                    \n                    {/* Total row */}\n                    <tr className=\"bg-gray-50 font-semibold border-t-2 border-gray-200\">\n                      <td className=\"px-4 py-3\">Total</td>\n                      <td className=\"px-4 py-3 text-right\">{lastCalculatedResult.potentialReturns.team1.toLocaleString('da-DK')} DKK</td>\n                      <td className=\"px-4 py-3 text-right\">{lastCalculatedResult.potentialReturns.draw.toLocaleString('da-DK')} DKK</td>\n                      <td className=\"px-4 py-3 text-right\">{lastCalculatedResult.potentialReturns.team2.toLocaleString('da-DK')} DKK</td>\n                      <td className=\"px-4 py-3 text-right\">\n                        <div>{lastCalculatedResult.totalStake.toLocaleString('da-DK')} DKK</div>\n                        <div className=\"text-sm text-gray-600\">{lastCalculatedResult.totalActualCost.toLocaleString('da-DK')} DKK</div>\n                      </td>\n                      <td className=\"px-4 py-3 text-right\">\n                        <div className=\"text-green-600\">\n                          Min: {Math.min(\n                            lastCalculatedResult.potentialReturns.team1,\n                            lastCalculatedResult.potentialReturns.draw,\n                            lastCalculatedResult.potentialReturns.team2\n                          ).toLocaleString('da-DK')} DKK\n                        </div>\n                        <div className=\"text-sm text-green-600\">\n                          Max: {Math.max(\n                            lastCalculatedResult.potentialReturns.team1,\n                            lastCalculatedResult.potentialReturns.draw,\n                            lastCalculatedResult.potentialReturns.team2\n                          ).toLocaleString('da-DK')} DKK\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-xl shadow-sm p-6 text-center\">\n              <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z\"/>\n              </svg>\n              <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Ingen beregninger endnu</h3>\n              <p className=\"text-gray-600\">Indtast odds og tryk på \"Find Bedste Arbitrage Mulighed\" for at se resultater</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </ProtectedContent>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}